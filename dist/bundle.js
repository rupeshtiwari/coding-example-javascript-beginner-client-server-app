!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r="ADD_USER_FORM_UPDATED",i="ADD_USER_FORM_VALID",u="ADD_USER_FORM_INVALID",s="ADD_USER",o="ADD_USER_SUCCESS",d="ADD_USER_FAIL",l="DELETE_USER",a="DELETE_USER_SUCCESS",c="SHOW_ERROR",f="SHOW_SUCCESS",b="SHOW_INFO",E="HIDE_ALL_ALERTS";class S{constructor(e,t){this.name=e,this.email=t,this.id=Date.now().toString()}}const _={list:new Map};function D(e,t){$.publish(c,t),$("#addUser").attr("disabled","disabled")}function p(){$.publish(E),$("#addUser").removeAttr("disabled")}let U;function m(){const e=$("#name").val(),t=$("#email").val(),n=new S(e,t);console.log("---Registration Form Updating---"),U&&clearTimeout(U),U=setTimeout(()=>{console.log("---Publishing ADD_USER_FORM_UPDATED Event---"),$.publish(r,n)},500)}function h(e,t){console.log("---Validating user---");const n=function(e){if(null!=e&&""!==e.trim()&&e.length>4)return!0;return"Full Name is invalid"}(t.name),r=function(e){if(null!=e&&""!==e.trim()&&e.indexOf("@")>-1&&e.indexOf(".")>-1)return!0;return"Email is invalid"}(t.email);return!0===n&&!0===r?$.publish(i,t):"string"==typeof n?$.publish(u,n):"string"==typeof r?$.publish(u,r):void 0}function R(e,t){const n=$("#userList").find("tbody"),r=$(`\n        <tr data-userid ="${t.id}">\n            <th scope="row"> ${t.id} </th>\n            <td> ${t.name} </td>\n            <td> ${t.email}</td>\n            <td>\n                 <button type="button" class="btn btn-danger delete-user" data-userid="${t.id}">\n                    <span class="glyphicon glyphicon-trash"></span> Trash\n                </button>\n            </td>\n        </tr>\n      `);n.append(r),$("#name,#email").val(""),$.publish(f,`Congrats ${t.name} added successfully`)}function A(){$.publish(E);const e=$("#name").val(),t=$("#email").val(),n=new S(e,t);$.publish(s,n)}function g(e,t){_.list.has(t.id)&&$.publish(d,`${t.id} already exists`),_.list.set(t.id,t),$.publish(o,_.list.get(t.id))}function O(e,t){_.list.delete(t),$.publish(a,{userId:t})}function v(e,{userId:t}){$("#userList tbody").find(`tr[data-userid=${t}]`).remove(),$.publish(b,"User deleted successfully")}function y(){if($.publish(E),!confirm("Are your sure?"))return!1;const e=$(this).data("userid");$.publish(l,e)}$.subscribe(u,D),$.subscribe(i,p),$(()=>{$("#userForm").delegate("input","input",m)}),$.subscribe(r,h),$.subscribe(o,R),$(()=>{$("#addUser").on("click",A)}),$.subscribe(s,g),$.subscribe(l,O),$.subscribe(a,v),$(()=>{$("#userList").delegate(".delete-user","click",y)}),$.subscribe(c,(e,t)=>{$("#alertMsg").removeClass().addClass("alert alert-danger").html(`⛔️ ${t}`).show()}),$.subscribe(f,(e,t)=>{$("#alertMsg").removeClass().addClass("alert alert-success").html(`✅ ${t}`).show()}),$.subscribe(b,(e,t)=>{$("#alertMsg").removeClass().addClass("alert alert-info").html(`⚠️ ${t}`).show()}),$.subscribe(E,()=>{$("#alertMsg").html("").hide()}),n.d(t,"ADD_USER_FORM_UPDATED",(function(){return r})),n.d(t,"ADD_USER_FORM_VALID",(function(){return i})),n.d(t,"ADD_USER_FORM_INVALID",(function(){return u})),n.d(t,"ADD_USER",(function(){return s})),n.d(t,"ADD_USER_SUCCESS",(function(){return o})),n.d(t,"ADD_USER_FAIL",(function(){return d})),n.d(t,"DELETE_USER",(function(){return l})),n.d(t,"DELETE_USER_SUCCESS",(function(){return a})),n.d(t,"DELETE_USER_FAIL",(function(){return"DELETE_USER_FAIL"})),n.d(t,"SHOW_ERROR",(function(){return c})),n.d(t,"HIDE_ERROR",(function(){return"HIDE_ERROR"})),n.d(t,"SHOW_SUCCESS",(function(){return f})),n.d(t,"HIDE_SUCCESS",(function(){return"HIDE_SUCCESS"})),n.d(t,"SHOW_INFO",(function(){return b})),n.d(t,"HIDE_ALL_ALERTS",(function(){return E})),n.d(t,"User",(function(){return S})),n.d(t,"store",(function(){return _})),n.d(t,"disableAddUserFormSubmit",(function(){return D})),n.d(t,"enableAddUserFormSubmit",(function(){return p})),n.d(t,"publishAddUserFormUpdatedMessage",(function(){return m})),n.d(t,"validateAddUserForm",(function(){return h})),n.d(t,"showUserInTable",(function(){return R})),n.d(t,"publishAddUser",(function(){return A})),n.d(t,"saveUserInStore",(function(){return g})),n.d(t,"deleteUserFromStore",(function(){return O})),n.d(t,"deleteUserFromTable",(function(){return v})),n.d(t,"publishDeleteUser",(function(){return y}))}]);